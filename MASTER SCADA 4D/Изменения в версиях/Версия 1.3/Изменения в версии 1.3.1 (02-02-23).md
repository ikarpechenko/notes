---
created: 2023-12-03T11:50
updated: 2023-12-03T12:22
---
# Изменения в версии 1.3.1 (02-02-23)

- [Источник](#%D0%98%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA)
- [Приложение](#%D0%9F%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5)
- [Среда разработки (DT):](#%D0%A1%D1%80%D0%B5%D0%B4%D0%B0-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-dt)
- [Исполнительная система (RT):](#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0-rt)
- [Безопасность:](#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C)
- [Визуализация:](#%D0%92%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)

## Источник

1. [https://masterscada.ru/news51](https://masterscada.ru/news51)

## Приложение

![WhatsNew](_файлы/WhatsNew%201.3.rtf)

## Среда разработки (DT):

* При первом запуске выдается окно конвертации для переноса настроек/проектов/библиотек из версии 1.2
* Поддержка хранения проектов в **PostgreSql**
    * **Поддержка многопоточной работы с БД**
    * **Ускорение выборки в 4 раза**
    * Выгрузка неиспользуемых частей проекта – при длительной работе с проектом память не накапливается, так как загружены только используемые в данный момент документы
* Доработки библиотек
    * Добавлена настройка места хранения пользовательских библиотек (как в **Firebird**, так и в **PostgreSql**)
    * Реализовано сохранение зависимых библиотек при сохранении библиотеки
* Доработки компилятора
    * Реализована параллельная компиляция узлов/задач/окон
    * Кэширование результатов компиляции окон
    * Компиляция переведена в режим многопоточности
    * Для IN OUT параметров убрана необходимость обратной связи, оптимизация передачи сложных типов
    * Вывод ошибок при недопустимых конвертациях
    * Поддержана работа настройки сохранения параметра "**Константа**"
    * В окне результатов компиляции добавлены две вкладки-фильтрации количества ошибок и предупреждений
    * Добавлен прогрессбар загрузки конфигурации в узел
* **Docking** (перемещаемые) панели
    * В меню **Вид** реализовано **включение/отключение** панелей
    * Добавлена команда «**Восстановить вид по умолчанию**»
* Добавлена таблица статистики задач узла
* Добавлена панель **Палитра** с вкладками **Объекты**, **ФБ**, **Окна**, которые всегда доступны для перетаскивания из них в дерево. В панели **Легенда** отображаются вкладки, относящиеся к открытому документу.
* Выполнена реорганизация верхнего меню и панели инструментов
    * Добавлено окно «**Сочетания клавиш**»
* Доработки экземпляров объектов
    * Поддержка изменения настроек шкал у параметров
    * **Возможность включить архивирования у параметров, которые в типе объекта не отмечены для архивирования, а также менять настройки архивирования**
    * **Добавлена возможность использовать в окне изображений окон экземпляров объектов другого узла.**
* Доработки редактора ФБД
    * Доработка (редизайн) отображения блоков и линий
    * Реализован порядок вычисления "**По потоку данных**"
    * Автодополнение и поиск при вводе имени связанного параметра у ножки ФБ
    * Добавлены настройки среды
        * Показывать порядок и номер блока
        * Показывать краткое имя типа блока
        * Кол-во отображаемых уровней прямых связей
* Доработки редактора C#
    * В легенде добавлен поиск NuGet пакетов по имени
    * В списке dll теперь не требуется указывать стандартные библиотеки MS4D, они подключаются автоматически
* Доработки редактора ST
    * Поддержка автодополнения для перечислений
    * Поддержка автодополнений для параметров объектов
    * Реализован Drag and Drop параметров проекта в программу
* Доработки редактора окон
    * Во вкладку **Элементы** добавлен столбец «**Порядок Z**»
    * При зажатом **Shift** элементы перетаскиваются ровно
* Реализовано перемещение по полотну редакторов схем/окон посредством мыши (инструмент "**Рука**")
* Реализован автоскроллинг при перемещении элементов схем/окон
* В структурах **SYSTEM_*_PARAM** поле **StatusCode** теперь имеет перечислимый тип
* В стандартных библиотечных тегах отключена связь между входом и выходом. В теге у параметра Вход установлен тип доступа **Чтение/Запись**.
* Доработки в дереве проекта
    * **Быстрое перемещение по связям через иконки связей**
    * Добавлена команда «**Свернуть все ветки**» для выделенного элемента
    * Группировка связей в контекстном меню **Перейти** и **Разорвать**
* У группы каналов добавлена настройка "**Задание типа доступа у канала**"
* Доработки табличного редактора
    * При использовании **XPath** теперь можно обращаться к элементам по имени, а не только по программному имени
    * Реализован экспорт/импорт нескольких связей
* Доработана вкладка **Конфигурация узла** –
    * Расчет необходимой версии Free/Lite/Pro/Enterprise
    * Добавлена кнопка «**Посмотреть рекомендации**»
    * Фильтрация таблицы
    * Отображение срока технического сопровождения при подключении к узлу
* Подключение к узлу и отладка
    * По умолчанию для связи с узлом используется новый протокол TCP. В настройках узла можно выбрать UDP (например, для подключения к узлу 1.2 для обновления в нем исполнительной системы)
    * **Для запуска эмуляции используется независимые экземпляры и web сервер**
    * **Реализован автозапуск нескольких узлов с разными экземплярами при переходе в RT**
    * Реализовано форматирование отладочных значений для параметров в среде разработки в соответствии со шкалой (x, b, d, f, e)

## Исполнительная система (RT):

* **Исполнение программ C# на linux x64, включая поддержку отчетов .Net**
* Изменен механизм передачи данных между задачами
    * Убрано ограничение в 65 тыс. связей между параметрами различных задач/протоколов
    * Передача сложных типов данных между задачами
* Новый протокол TCP для межузловой связи с шифрованием
    * Возможна передача параметров сложных типов данных между узлами
    * Поддержан прямой доступ к параметрам проекта для межузловой связи (чтение)
    * **Скорость передачи данных повышена до 800тыс значений в сек**
    * **Реализовано сжатие передаваемой информации, в среднем 0,5 байт на одно значение**
* Выпущены обновленные драйвера протоколов **Modbus TCP**, **Modbus over TCP**, **Modbus RTU** (в библиотеке **Protocols**). При первом запуске произойдёт автоматическая конвертация всех протоколов, используемых в проекте, а также типов модулей в подключенных библиотеках.
    * Поддержка строк
    * Поддержка асинхронного опроса для повышения скорости опроса
    * Поддержка групповой записи нескольких тегов в одном запросе
    * Для устройства реализовано окно импорта и группового редактирования тегов –
        * Импорт из **CSV**, **XLSX**, **Modbus Universal**, **Segnetics SM Logix**.
        * Фильтрация дерева тегов по имени, адресу, типу данных сервера и устройства, региону, а также отдельным тегам.
        * Возможно выделения (в том числе группового) тегов. Через контекстное меню.
        * Групповые операции с отмеченными тегами - изменение адрес, региона, типа доступа, типа данных и шкалы.
        * Возможность редактирования отдельных тегов.
* Добавлена настройки протокола OPC UA "**Количество значений в одном запросе при загрузке дерева**", "**Количество узлов в одном запросе подписки**"
* **Добавлена возможность задания нескольких адресов для баз данных.** В ФБ **GetDataArchiveStatistic**, **GetEventsArchiveStatistic** добавлено поле IP для отображения текущего адреса.
* Добавлен протокол **SNMP Multi** с возможностью добавления отдельных устройств, реализовано групповое чтение каналов SNMP
* Добавлен ФБ **GetAllTasksInfo**, выдающий список задач узла c Id
* Добавлен вход **Комментарий** для **FireBaseEvent**
* Реализован импорт DB из Siemens через txt-файл
* Добавлена поддержка контроллеров
    * Wirenboard7
    * ABAK K2
    * Trei M501E. Добавлен ФБ TREI_501_STATE для выдачи диагностической информации

## Безопасность:

* Добавлена настройка роли - "**Время бездействия**"
* В окно аутентификации добавлено отображение времени блокировки пользователя
* Реализована возможность добавления RT пользователей при отсутствии DT пользователей
* Включение в журнал действий информации о носителе при экспорте из клиента HMI Linux

## Визуализация:

* Настройка "**Использовать входящую связь только для отображения**" у интерактивных контролов установлена по умолчанию.
* Добавлены события "**Открытие окна**", "**Закрытие окна**"
* Доработки контролов "**дерева выбора**"
    * Добавлена настройку текста
    * Настройка внешнего вида чекбоксов для "**дерева множественного выбора**"
    * Реализована фильтрация
* Доработки тренда
    * В легенду в настройках пера добавлен чекбокс **Автомасштабирование**
    * Добавлены настройки отображения, а также цвета вертикальной и горизонтальной полосы прокрутки
    * Добавлена настройка шаблона экрана "**Способ отображения графиков**" svg/canvas
* Доработки журнала
    * Добавлен текстовый параметр **Фильтр**
    * Добавлено новое поле "**Источник или объект**"
* Поддержка **CREATE_ARRAY** и **RESIZE_ARRAY** в задаче экрана
* В контейнере добавлены методы **Назад/Вперед** для переходов по истории **URL/окон**, открытых в этом контейнере