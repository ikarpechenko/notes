---
created: 2023-12-03T11:50
updated: 2023-12-03T12:10
---
# Изменения в версии 1.2.11 (15-10-20)

- [Новые модули](#%D0%9D%D0%BE%D0%B2%D1%8B%D0%B5-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B8)
- [Среда разработки:](#%D0%A1%D1%80%D0%B5%D0%B4%D0%B0-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8)
- [Исполнительная система:](#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0)
- [Безопасность:](#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C)
- [Визуализация:](#%D0%92%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)

## Новые модули

* В исполнительной системе реализовано выполнение программ/ФБ C#. Выполнение идет под управлением .Net Core 3.1. В текущей версии реализована только поддержка Windows, в планах на следующие версии намечена также поддержка Linux. Возможно добавление ФБ C# в библиотеку (можно их использовать как экземпляры или использовать C# типы из них в программах), а также программы C# в объекты.
* В среде разработки добавлено табличное представление проекта (вкладка Таблица в панели управления). Позволяет в таблице отображать набор элементов проекта по произвольным условиям выборки, в качестве столбцов добавлять любые свойства или связи элементов/подэлементов, реализовано редактирование таблицы (в т.ч. групповое). В данную версию включена предварительная версия данного модуля.

## Среда разработки:

* добавлена поддержка экземпляров тегов;
* в палитре редакторов окон/программ добавлена возможность фильтрации элементов;
* в редакторе окон добавлена обработка двойного клика по контролам (переход в режим редактирования текста или открытие окна настройки);
* для ФБ с подключаемым кодом добавлена настройка "Поддержка задач" для ограничения места их выполнения;
* в шаблон архивирования добавлены настройки "Запись при останове", "Все значения".

## Исполнительная система:

* в мониторе исполнительной системы отображается информация о лицензионных ограничениях установленного ключа защиты;
* в программах/ФБ ST добавлено ключевое слово NULL для проверки результатов запросов к БД, выполняемых через ФБ SqlRequest и SqlRequestWithResult;
* добавлен ФБ PING для проверки доступности сетевых узлов;
* добавлен ФБ GetSystemInfo для получения информации о системе;
* добавлен ФБ GetOPCUAServerInfo для получения информации и статистики по работе OPC UA сервера;
* добавлен ФБ RedundancyControl для управления резервированием;
* добавлены функции конвертации STRING_TO_BYTE_ARRAY, BYTE_ARRAY_TO_STRING;
* добавлен вход Transaction у ФБ SqlRequest и SqlRequestWithResult для выполнения серии вызовов в рамках одной транзакции;
* для сетевого и локального ключей теперь используется общий дистрибутив (выбор при установке или в настройках монитора);
* добавлен отдельный дистрибутив с 32-битным HMI-клиентом;
* в протоколе IEC-104 добавлена настройка групп опроса, а также чтение через команду 102;
* в протоколе Mitsubishi добавлена настройка "Максимально допустимый разрыв адресов в запросе чтения";
* разработан драйвер теплосчетчика МКТС;
* реализована поддержка контроллера OptiLogic L (библиотека KEAZ).

## Безопасность:

* у роли добавлены настройки:
    * "Минимальный срок действия пароля";
    * "Запрет одновременного входа одного пользователя";
* добавлена выдача сообщений о запуске и завершении процедуры выполнения контроля целостности;
* добавлен ФБ FileIntegrityControl для управления контролем целостности и получения списка отличий;
* добавлен ФБ ExportEventsArchive для экспорта архива сообщений в csv файл;
* в сообщении о действии печати/сохранения тренда/журнала добавлено имя принтера/путь к файлу.

## Визуализация:

* у шаблона экрана добавлена настройка "Место хранения состояния окон" - для сохранения состояния контролов при переоткрытии окон и перезапуске клиента (тренд, журнал, таблица данных, справочник);
* добавлена кнопка в тулбаре для сброса состояния RT в тренде, журнале, справочнике;
* добавлен контрол "Дискретный тренд" для отображения логических параметров;
* добавлен контрол "Карта" для отображения карт с картографического сервера или локальной папки с фрагментами карт; реализована возможность отображения массива структур в виде произвольных контролов на карте с привязкой к координатам, с поддержкой динамизации и с обработкой событий по кликам на них;
* добавлена поддержка экспорта данных тренда в csv;
* добавлена возможность вызова программ в задаче экрана по действию "Вызвать программу";
* добавлен параметр "Тип линий сетки" для таблицы данных, справочника и легенды тренда;
* реализована функция LOG_MESSAGE в задаче экрана для отправки сообщений в лог исполнительной системы;
* в конвертере связи параметров окон добавлена возможность выделения битов;
* у действий по событиям добавлена возможность задать условие выполнения;
* добавлена настройка "Использовать входящую связь только для отображения" у контролов текстовый ввод, инкремент, пароль, кнопка с фиксацией, флаг, выпадающий список.
* в параметры события "Клик по ячейке" справочника и таблицы добавлен параметр "Исходная строка".