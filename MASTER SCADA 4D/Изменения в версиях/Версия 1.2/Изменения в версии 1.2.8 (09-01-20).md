---
created: 2023-12-03T11:50
updated: 2023-12-03T12:10
---
# Изменения в версии 1.2.8 (09-01-20)

- [Среда разработки](#%D0%A1%D1%80%D0%B5%D0%B4%D0%B0-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8)
- [Исполнительная система:](#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0)
- [Визуализация:](#%D0%92%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)

## Среда разработки

* Добавлена поддержка вложенных экземпляров объекта (в типе объекта можно использовать экземпляры других объектов)
* У параметров объекта типа «массив» добавлена настройка "Отображать в дереве", которая позволяет в дерево добавлять отдельные элементы массива, которые можно архивировать, связывать с другими параметрами и т.п.
* Для протокола SNMP реализован импорт списка параметров из файлов формата mib
* Реализована возможность в протоколы Postgre, Mysql, MSSQL вставлять элементы "Запрос", в каждом из которых указывается отдельная SQL-команда. Это позволяет использовать одно подключение к БД для выполнения различных SQL-запросов
* Реализован текстовый редактор для типа данных «структура»
* Доработан наблюдатель для отладки проекта (добавление в набор отдельных элементов массива и полей структур, реализован вывод времени последнего изменения значения, реализована возможность экспорта и импорта наборов наблюдений)
* В системе поиска и фильтрации дерева проекта добавлен выбор типов элементов, а также типов свойств, где выполняется поиск
* Реализован импорт/экспорт скриптов C#
* В диалоге настроек журнала и таблице данных добавлен скроллбар
* В окне ошибок компиляции реализована функция перехода к строке с ошибкой по двойному клику на строке (как при компиляции одной программы, так и всего проекта).

## Исполнительная система:

* Реализован обмен данными между различными задачами и протоколами через параметры узла (включая параметры сложных типов данных)
* Поддержан доступ к параметрам проекта через протокол IEC61850 MMS (возможно включить шифрованное подключение TLS)
* Поддержано шифрованное подключение TLS к серверам IEC61850
* Поддержан опрос тепловычислителей ВКТ-7
* Поддержан протокол связи с контроллерами OMRON, реализован импорт списка параметров
* Поддержан протокол связи с контроллерами Mitsubishi, реализован импорт списка параметров
* Поддержан опрос электросчетчиков Энергомера
* Добавлены настройки процедур импорта/экспорта/ удаления/бэкапа/восстановления в MS4DMonitor
* Добавлен ФБ HttpClient для выполнения HTTP-запроса (в библиотеку Protocols)
* Добавлена поддержка параметра Aggregate в ФБ READ_ARCHIVE_DATA
* Добавлена настройка протоколов "Задержка сброса отказа на резервном"

## Визуализация:

 Новые функции доступные только при использовании транслятора HMI v2

* Реализовано безударное переключение опроса при резервировании каналов связи с сервером, а также при переключении резервируемых серверов
* В ФБ GET_CURRENT_USER добавлены параметры – IP-адрес АРМ клиента, время окончания сессии
* Добавлена поддержка символа 0 (по функционалу как \d*) в маске ввода

Новые функции элементов Журнал, Таблица данных и Тренд при использовании версии транслятора HMI v2

* Тренд:
    * Реализован режим выделения области графика (если к графику подключена легенда, то в ней отображается минимум, максимум, значения в границах диапазона)
    * Реализовано отображение разрыва пера за период, когда исполнительная система была остановлена
    * Реализовано масштабирование текущего пера по амплитуде (через скроллбар)

* Добавлена общая настройка тренда "Автоматически создавать оси значений", а также индивидуальные настройки каждого пера «Отображать ось значений»
* В легенде тренда реализованы
    * редактор стиля пера (вызывается по двойному клику на ячейке "перо")
    * изменение границ оси значений
    * включение/отключение оси значений
* Журнал:
    * Добавлена фильтрация по объектам (открытие дерева с чекбоксами для выбора источников сообщений)
    * Реализована фильтрация по столбцам
* Таблица данных
    * У столбцов добавлена настройка «Включить фильтрацию» (в RT в заголовке столбца появляется значок фильтрации)