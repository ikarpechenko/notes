---
created: 2023-12-03T11:50
updated: 2023-12-03T12:10
---
# Изменения в версии 1.2.12 (18-02-21)

- [Новые модули](#%D0%9D%D0%BE%D0%B2%D1%8B%D0%B5-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B8)
- [Среда разработки (DT):](#%D0%A1%D1%80%D0%B5%D0%B4%D0%B0-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-dt)
- [Исполнительная система (RT):](#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0-rt)
- [Безопасность:](#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C)
- [Визуализация:](#%D0%92%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)

## Новые модули

* В среде разработки в панели управления добавлена вкладка Таблица, что позволяет отображать в таблице набор элементов проекта по произвольным условиям выборки, а также добавлять столбцы с любыми свойствами или связями элементов/подэлементов. Реализована возможность редактирования элементов таблицы (в т.ч. групповое). В данную версию включена предварительная версия данного модуля.
* В исполнительной системе подключена генерация отчетов под управлением .Net 5 (этот режим включается в настройках приложения). В текущей версии реализована только поддержка Windows, в планах на следующие версии намечена также поддержка Linux. В этом режиме доступно обращение к MSSQL напрямую из Отчета.

## Среда разработки (DT):

* Добавлен быстрый поиск в окне редактирования типа элемента
* Оптимизированы операции по редактированию окон
* У ФБ добавлена команда "Скрыть содержимое"
* В локальную библиотеку добавлена тема "Стандартная"
* Добавлена настройка редактора FBD “Максимальная ширина связи POU”
* Добавлена поддержка переключений R_EDGE и F_EDGE для параметров типа BOOL
* Добавлена настройка OPC UA "Получать значения тегов при загрузке дерева"
* При установке флага Сохранять у параметра типа ФБ теперь не требуется отдельно включать сохранение у экземпляров этого ФБ

## Исполнительная система (RT):

* Добавлена поддержка структур в OPC UA сервере
* Реализована выдача сообщений о статусе связи с БД
* Добавлены функции для работы с локальным временем в контроллере
* Добавлены битовые конвертации вещественных чисел REAL_TO_DWORD_BIT, LREAL_TO_LWORD_BIT, DWORD_TO_REAL_BIT, LWORD_TO_LREAL_BIT
* Добавлены функции конвертации STRING_TO_BYTE_ARRAY, BYTE_ARRAY_TO_STRING
* Доработки в программах/ФБ C#:
    * поддержка параметров узла
    * поддержка локальных ФБ
    * поддержка сложных типов данных
* Реализована синхронизация блокировки параметров при резервировании, а также их сохранение при горячем рестарте
* Добавлены настройки протоколов "Формировать отказ при отказе всех модулей", а также "Задержка записи при старте опроса (циклов)"
* Добавлено отображение в отладке типов LWORD и ULINT с полной точностью
* Добавлена настройка номера порта в SNMP
* Реализована поддержка параметров подписки Queue Size и Sampling Interval в OPC UA
* Добавлен параметр "Encoding" в ФБ COMPort, FileToString, StringToFile
* Передача значений по межузловой связи теперь выполняется только по изменению значения или метки времени
* Реализована поддержка хранения сообщений > 255 символов в MSSQL и Postgre
* Реализовано отображение в среде разработки динамических массивов, а также их синхронизация при резервировании и сохранение при горячем рестарте
* Добавлен ФБ StructArrayToFile для записи массива структур в CSV
* Добавлен ФБ COMPortSync для синхронной отправки в программе протокола
* Добавлена функция получения текущего времени GET_TIME
* Добавлена настройка архива данных "Количество потоков записи"
* Добавлена возможность установки поля Квитированность=True до того, как тревога сработала
* Поддержана динамизация мертвой зоны у параметра
* В режиме эмуляции отключен запуск протоколов
* Добавлена настройка службы резервирования "Количество передаваемых архивных значений"
* Реализована поддержка контроллера ОВЕН PLC210
* Добавлен драйвер протокола BACNet
* Добавлен драйвер счетчика ТЭМ
* По умолчанию для модема используется строка инициализации ATE0

## Безопасность:

* Добавлены ФБ:
    * получения статистики архивов GetEventsArchiveStatistic/GetDataArchiveStatistic
    * изменения прав для контролов в режиме исполнения
    * добавления/удаления групп в RT, изменения настроек групп (включая DT)
    * изменения паролей и настроек пользователей DT

## Визуализация:

* Реализованы следующие доработки контрола Карта:
    * установка размеров изображения для маркера
    * передача параметров всплывающего окна маркера через параметры события
    * поддержка связей параметров события с условиями действия
    * поддержка полей структур в настройках стиля маркера
    * расширение списка стандартных свойств маркера (Ширина, высота, Z-порядок, прозрачность)
* Реализована возможность задания строкового пути к окну вместо ссылки на окно
* Доработан механизм создания пользовательских контролов, а также реализована  возможность добавления параметров у контрола Скрипт
* Реализована поддержка обработки нажатия клавиш в шаблоне экрана
* Реализована поддержка произвольных значений перечислений в окнах
* Добавлена настройка вида курсора при наведении на элемент
* Произведены следующие доработки контрола Тренд:
    * реализовано отображение перечислимых значений в дискретном тренде
    * добавлено отображение архивируемых полей структур и массивов в дереве выбора параметров для тренда
    * реализован автоматический расчет отступа в зависимости от длины надписей для оси Y
    * добавлена настройка прозрачности минилегенды тренда
    * реализовано сохранение состояния для легенды тренда
    * добавлено отображение в тренде статуса подгрузки архива
    * реализована возможность управления видимостью всех перьев тренда через легенду
    * добавлено отображение титула графика в заголовке диалога добавления перьев
* Произведены следующие доработки контрола Журнал:
    * реализована настройка выборки по времени в архивном журнале
    * добавлена настройка фильтров журнала в RT (мин/макс приоритет).