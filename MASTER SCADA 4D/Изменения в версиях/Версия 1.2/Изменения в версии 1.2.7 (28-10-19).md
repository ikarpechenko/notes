---
created: 2023-12-03T11:50
updated: 2023-12-03T12:03
---
# Изменения в версии 1.2.7 (28-10-19)

- [Среда разработки](#%D0%A1%D1%80%D0%B5%D0%B4%D0%B0-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8)
- [Исполнительная система:](#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0)
- [Безопасность:](#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C)
- [Визуализация:](#%D0%92%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)

## Среда разработки

* В библиотеку можно добавлять именованные цвета для использования в проекте (в диалоге выбора цвета можно их выбирать по имени)
* ST - при добавлении функции или Фб из палитры в программу необходимые входы вставляются автоматически в текст.
* У текстовых свойств добавлена кнопка для редактирования в отдельном окне
* Поддержано назначение архива данных на протоколы
* В отладке добавлена возможность раскрытия структур в массивах структур для отображения ее полей с возможностью установки значений
* В диалоге протокола OPC UA добавлена возможность загрузки тегов при раскрытии узлов дерева
* Реализован экспорт/импорт программ ST
* Реализован экспорт/импорт скриптов C#
* Скрытие паролей, введенных в настройках элементов
* Расширен функционал таблицы поиска в проекте (поиск в текстах программ ST, добавлен столбец Тип, по клику на строке открывается программа/окно с найденным элементом или позиционирование на строку в тексте с найденным фрагментом)

## Исполнительная система:

* Поддержано резервирование устройств в протоколах Modbus TCP и Modbus RTU over TCP
* Добавлена настройка компиляции "Прерывать выполнение при ошибках"
* Добавлен протокол MySQL
* Синхронизация текущих архивов данных при резервировании
* Реализован ФБ FireBaseEvent для выдачи безусловных сообщений
* Вывод сообщения в журнал об ошибках ключа защиты
* Добавлены функции для конвертации сложных типов данных в JSON и обратно (OBJECT_TO_STRING, STRING_TO_OBJECT). Позволяет передавать сложные типы данных, например массивы структур, через стандартные протоколы в виде строк.
* Добавлена библиотека Mercury - драйвера Mercury RTU, Mercury over TCP
* Добавлена поддержка параметра QoS для протокола MQTT
* Добавление в архивы "Архив данных в памяти"
* Добавлена настройка протокола "Формировать отказ узла"

## Безопасность:

* Группы пользователей заменены на роли
* Добавлен отдельный тип сообщений "Действие пользователя", по которому можно выполнять фильтрацию в журналах
* Реализовано назначение стартового окна роли
* Добавлено действие "Сменить пользователя" для открытия окна логина поверх открытых мнемосхем. (для HMI v2)
* Возможность назначения пользователя по умолчанию для автоматического входа в систему (для HMI v2)
* Запись в журнал сообщений о входе пользователей в систему, а также о закрытии сессии оператора
* Хранение дополнительных свойств пользователей, добавлены ФБ RTUsersGetUserSettings, RTUsersSetUserSettings
* Поддержка хранение списка пользователей в общей для проекта БД PostgreSQL
* Задание политики паролей индивидуально для ролей
* Реализован контроль целостности системного ПО и конфигурации проекта
* Задание длительности сеанса для ролей
* Проверка прав и выдача сообщений в журнал при вызове ФБ, изменяющих набор пользователей или их настройки
* Добавлен новый тип сообщений "Системное сообщение" (сообщения об ошибках ключа, контроле целостности)

## Визуализация:

*  Элемент График сменил название на Тренд
* Появилась возможность выбора типа транслятора создаваемого HMI:
    * v1 - поддерживается во всех исполнительных системах, новых и ранее подерживаемых браузерах, но, многие современные функции не могут быть реализованы.
    * v2 - используется более прогрессивная технология web-компонентов.Увеличена скорость работы в режиме исполнения, уменьшено время загрузки окон в клиенте, скомпилированные файлы, необходимые для работы окон занимают меньший объем. Поддерживается в тех ОС, где можно установить современные браузеры: MasterSCADA 4D Client, браузеры Chrome версия 67 и выше,  Firefox версия 63 и выше.

Новые функции доступные только при использовании транслятора HMI v2

* Многомониторный режим
* Настройка печати и сохранения в файл без вызова диалогового окна ОС
* Повторный вызов действия, открывшего окно, приведет к его закрытию
* Восстановление связи с исполнительной системой происходит без перезагрузки окна клиента.
* Нет ограничений на количество используемых динамизированных элементов
* Улучшена стыковка элементов (линий, труб, задвижек и др.)
* Добавлена настройка действия открытия всплывающего окна "Закрывать окна того же типа"
* Добавлена настройка действия открытия всплывающего окна "Контроль границ"
* Добавлена возможность использовать произвольные файлы в качестве ресурсов

Новые элементы доступные только при использовании транслятора HMI v2:

* График Х/У – служит для отображения двумерных массивов
* Дерево единичного/ множественного выбора – позволяет осуществлять выбор элементов из дерева проекта, например, для добавления нового пера на тренд, а также возможно формировать собственное дерево, не связанное с элементами проекта
* Легенда для тренда – элемент, который может работать с существующим в проекте трендом. Может находиться вне рамок элемента тренд.
* Вертикальный /Горизонтальный ползунок интервала – позволяет установить одним движением два значения параметра. Если тянуть за нижнюю границу, то изменяется минимальное значение. Если за верхнюю - максимальное. Если взяться посередине диапазона, то изменится и минимум и максимум, сохраняя неизменным интервал.

Новые функции элементов Журнал, Таблица данных и Тренд при использовании версии транслятора HMI v2

* Тренд:
    * Появилась возможность добавлять на тренд новые перья в режиме исполнения при помощи кнопки Дерево в панели инструментов
    * Появилась возможность выбора текущего пера, благодаря чему стало возможным отображение предупредительных и аварийных границ на тренде
    * В панель инструментов тренда добавлены кнопки "Показать минилегенду", кнопки листания
    * Возможность масштабирования по оси Y
    * Отображение недостоверности данных пунктирной линией
* Журнал:

o    Появилась возможность задать комментарий при квитировании собщений

* Закладки в журнале
    * Изменен механизм листания сообщений, используя только линейку прокрутки можно перейти к любому сообщению в архиве. При изменении ползунка линейки прокрутки сообщения из архива будут считываться автоматически.
    * Добавлен фильтр по текстовым столбцам, например, можно выбрать только те сообщения, которые содержат определенную фразу.
    * Добавлена кнопка перехода к конкретной дате.
    * Добавлена цветная печать.
    * Добавлена возможность отображения времени квитирования в столбце квитирования

* Таблица данных
    * Появилась возможность динамизировать стиль ячейки в зависимости от ее содержимого, независимо от свойств всей строки.
    * Добавлено действие Клик по ячейке