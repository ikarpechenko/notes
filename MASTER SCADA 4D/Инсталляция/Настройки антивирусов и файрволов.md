---
created: 2023-08-25T21:39:00
updated: 2023-12-06T23:16
tags:
  - ms4d
  - файрвол
  - антивирус
---
# Настройки антивирусов и файрволов

**MasterSCADA 4D** совместима с антивирусами и файрволами, а также может работать под ограниченной учетной записью пользователя операционной системы,  при условии, что при этом  разрешена работа с портами, необходимыми для приема и отправки данных, имеется доступ к рабочим папкам **MasterSCADA 4D** с возможностью добавления и удаления файлов. В большинстве случаев достаточно выполнить настройки прав (разрешений), описанные ниже. В особых случаях могут потребоваться дополнительные разрешения.

## Для среды разработки

- Назначить права на чтение и редактирование рабочей папки: _c:\Users\Public\Documents\MasterSCADA4D<номер версии>\._
- Назначить права на чтение и редактирование папки, в которой хранятся подготовленные для загрузки в среду исполнения проекты: _c:\Users\[имя пользователя]\AppData\Roaming\MPSSoft\._
- Разрешить запуск процессов **mplc, mplc_service, nginx, клиент визуализации, node_ms4d.**
- Для использования удаленных **OPC DA/HDA** серверов следует настроить **DCOM Windows.**
- Открыть нужный TCP-порт для добавления тегов **OPC UA** (определяется настройками). 

## Для среды исполнения

- Назначить права на чтение и редактирование папки, из которой запускается среда исполнения, по умолчанию:
    - для Windows_: C:\ProgramData\MPSSoft\MasterSCADA4DRT<номер версии>\Server_ (номер версии исполнительной системы, установленной независимо от среды разработки);
    - для Linux_: /opt/mplc4._
- Разрешить TCP-порт для работы с **веб-server,** по умолчанию это **8043** для Windows (или тот который указан в настройках **MasterSCADA 4D Monitor**) и **80** - для Linux.
- Для работы модуля отчетов в режиме исполнения необходимо сделать доступным порт TCP **9615**.
- Для использования удаленных **OPC DA/ HDA** серверов следует настроить **DCOM Windows**.
- Открыть нужный порт TCP для опроса тегов **OPC UA**.
- Если **MasterSCADA 4D** выступает в роли **ОРС UA** сервера, то необходимо разрешить входящий TCP-порт, по умолчанию это **16550** (может быть изменен в проекте в настройках узла).
- Если используется передача данных от **MasterSCADA 4D** в другие системы через **Modbus TCP Slave**, то необходимо разрешить входящий TCP-порт, по умолчанию **502** (может быть изменен в настройках проекта у узла).
- Для подключения среды разработки к исполнительной системе используется UDP/TCP-порт **30550** (в зависимости от настроек в узле)**.** Если на одном компьютере запущено одновременно несколько экземпляров исполнительной системы, то номер порта будет **30550 + <номер экземпляра mplc>.**
- Для межузловой связи используется UDP/TCP-порт **30550**. . Если на одном компьютере запущено одновременно несколько экземпляров исполнительной системы, то номер порта будет **30550 + <номер экземпляра mplc>**. Для передачи текущих значений используется TCP-порт, для архивных данных - UDP.
- Для синхронизации серверов при резервировании используется UDP/TCP-порт **40555.** Если на одном компьютере запущено одновременно несколько экземпляров исполнительной системы, то номер порта будет **40555 + <номер экземпляра mplc>**. Для передачи архивных данных используется TCP-порт, для текущих значений и архивов сообщений - UDP.
- Для получения лога служебных сообщений исполнительной системы используется TCP-порт **31550**. Если на одном компьютере запущено несколько экземпляров исполнительной системы, то номер порта будет **31550 + <номер экземпляра mplc>**.
- Для взаимодействия веб-сервера и исполнительной системы используется TCP-порт **30750**. Если на одном компьютере запущено несколько экземпляров исполнительной системы, то номер порта будет **30750 + <номер экземпляра mplc>**.

## Для клиента визуализации

В большинстве случаев специальных настроек прав (разрешений) не требуются.

## Для СУБД PostgreSQL

TCP-порт **5432** по умолчанию, который прослушивает сервер. Обратите внимание, что один и тот же номер порта используется для всех IP-адресов, которые прослушивает сервер. Этот параметр можно установить только при запуске сервера.

## Источник

1. [MasterScada 4D. Совместимость с антивирусами и файрволами](https://support.mps-soft.ru/Help-web/index.html)
2. [PostgreSQL 15. 20.3. Connections and Authentication](https://www.postgresql.org/docs/current/runtime-config-connection.html)